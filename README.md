# D&D MUD - Создатель персонажей

Простая программа для создания персонажей Dungeons & Dragons 5e с чистой архитектурой и современными практиками Python.

## Особенности

- **Простота**: Следует принципам KISS и YAGNI
- **Современный Python**: Dataclass, Type hints, Python 3.12+
- **Чистая архитектура**: Модульная структура с разделением ответственности
- **Качество кода**: PEP 8, тестирование, линтинг, типизация
- **Инструменты разработки**: Makefile, pyproject.toml, виртуальное окружение

## Структура проекта

```
dnd_mud/
├── main.py                 # Точка входа
├── Makefile               # Команды разработки
├── pyproject.toml         # Конфигурация проекта и зависимостей
├── data/                  # YAML данные D&D
│   ├── races.yaml         # Расы персонажей
│   ├── classes.yaml       # Классы персонажей
│   ├── abilities.yaml     # Способности
│   ├── backgrounds.yaml   # Предыстории
│   ├── languages.yaml     # Языки
│   └── sizes.yaml         # Размеры существ
├── src/
│   ├── models/
│   │   └── data.py       # Dataclass модели
│   ├── data/
│   │   └── repositories.py # Репозитории данных
│   ├── services/
│   │   ├── character_service.py # Сервис создания персонажей
│   │   └── ability_generator.py # Генератор способностей
│   └── ui/
│       ├── main_menu.py   # Главное меню
│       ├── character_creator.py # Создание персонажа
│       └── user_choice.py # Вспомогательные функции UI
```

## Установка и запуск

### Быстрый старт (рекомендуется)

```bash
# Клонировать репозиторий
git clone <repository-url>
cd dnd_mud

# Установить зависимости и запустить
make install
make run
```

### Ручная установка

1. Клонировать репозиторий
2. Создать виртуальное окружение:
   ```bash
   python -m venv .venv
   source .venv/bin/activate  # Linux/Mac
   # или
   .venv\Scripts\activate     # Windows
   ```
3. Установить зависимости:
   ```bash
   pip install -e ".[dev]"
   ```
4. Запустить программу:
   ```bash
   python main.py
   ```

## Использование

1. Запустите программу (`make run` или `python main.py`)
2. Выберите "Создать персонажа"
3. Следуйте пошаговым инструкциям:
   - Введите имя персонажа
   - Выберите расу (можно выбрать подрасу)
   - Выберите класс
   - Установите характеристики (автоматически или вручную)

## Команды разработки

```bash
make help          # Показать все доступные команды
make install       # Установить зависимости
make run           # Запустить приложение
make test          # Запустить тесты
make lint          # Проверить код (ruff + mypy)
make format        # Отформатировать код (black + ruff)
make clean         # Очистить временные файлы
```

## Применяемые паттерны и принципы

### Паттерны проектирования:
- **Repository**: Инкапсуляция доступа к данным
- **Service**: Бизнес-логика создания персонажей
- **Data Transfer Object**: CharacterData для передачи данных

### Принципы:
- **KISS**: Максимум простоты, минимум сложности
- **YAGNI**: Только необходимая функциональность
- **DRY**: Никакого дублирования кода
- **Single Responsibility**: Каждый класс имеет одну обязанность
- **Dependency Inversion**: Зависимости от абстракций

### Python лучшие практики:
- **Type hints**: Везде используются аннотации типов
- **Dataclasses**: Современные классы данных
- **f-strings**: Современное форматирование строк
- **Pathlib**: Современная работа с путями файлов

## Лицензия
- [Универсальная система рас](docs/game-systems/universal_race_system.md) - Расы и особенности
- [Система штрафов](docs/game-systems/penalty-system.md) - Механика штрафов
- [Новая система игры](docs/game-systems/new_game_system.md) - Основные механики
- [Стандартный массив](docs/game-systems/standard-array-manual-assignment.md) - Распределение характеристик

### 🛠️ [Разработка](docs/development/)
- [Тестирование](docs/development/TESTING.md) - Стратегии и инструменты тестирования
- [Устранение неполадок](docs/development/TROUBLESHOOTING.md) - Решение проблем

### 📚 [Руководства](docs/guides/)
- [Книга игрока D&D 2023](docs/guides/Книга%20игрока%20D&D%202023%20RUS_compressed.pdf) - Официальные правила

## 📋 Требования

- **Python 3.12+** (рекомендуется 3.13)
- **PyYAML >= 6.0.3** для работы с YAML данными

### Для разработки:
- **pytest >= 8.0** - тестирование
- **ruff >= 0.5** - линтинг и форматирование
- **black >= 24.0** - форматирование кода
- **mypy >= 1.10** - статическая типизация

## 📄 Лицензия

MIT License

