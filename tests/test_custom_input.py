#!/usr/bin/env python3
"""–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ get_user_choice."""

from src.ui.user_choice import get_user_choice

def test_custom_input():
    """–¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –≤–≤–æ–¥–∞."""
    print("üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –≤–≤–æ–¥–∞")
    print("="*50)
    
    # –¢–µ—Å—Ç 1: –í—ã–±–æ—Ä –∏–∑ —Å–ø–∏—Å–∫–∞
    print("\n1. –¢–µ—Å—Ç –≤—ã–±–æ—Ä–∞ –∏–∑ —Å–ø–∏—Å–∫–∞:")
    choice = get_user_choice(
        ["–í–∞—Ä–∏–∞–Ω—Ç 1", "–í–∞—Ä–∏–∞–Ω—Ç 2", "–í–∞—Ä–∏–∞–Ω—Ç 3"],
        "–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç:",
        allow_cancel=True
    )
    print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç: {choice}")
    
    # –¢–µ—Å—Ç 2: –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –≤–≤–æ–¥ + –≤—ã–±–æ—Ä –∏–∑ —Å–ø–∏—Å–∫–∞
    print("\n2. –¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –≤–≤–æ–¥–∞ + –≤—ã–±–æ—Ä –∏–∑ —Å–ø–∏—Å–∫–∞:")
    value = get_user_choice(
        ["8", "9", "10"],
        "–í—ã–±–µ—Ä–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ:",
        allow_cancel=True,
        allow_custom_input=True,
        custom_prompt="–∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –ª—é–±–æ–µ —á–∏—Å–ª–æ"
    )
    print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç: {value} (—Ç–∏–ø: {type(value)})")
    
    # –¢–µ—Å—Ç 3: –¢–æ–ª—å–∫–æ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –≤–≤–æ–¥ (custom_only)
    print("\n3. –¢–µ—Å—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –≤–≤–æ–¥–∞ (custom_only):")
    custom = get_user_choice(
        ["8", "9", "10", "11", "12"],
        "–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:",
        allow_cancel=True,
        cancel_text="–æ—Ç–º–µ–Ω–∞",
        custom_only=True
    )
    print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç: {custom} (—Ç–∏–ø: {type(custom)})")
    
    # –¢–µ—Å—Ç 4: Custom_only –±–µ–∑ –æ—Ç–º–µ–Ω—ã
    print("\n4. –¢–µ—Å—Ç custom_only –±–µ–∑ –æ—Ç–º–µ–Ω—ã:")
    forced = get_user_choice(
        ["–ü—Ä–∏–º–µ—Ä 1", "–ü—Ä–∏–º–µ—Ä 2"],
        "–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):",
        allow_cancel=False,
        custom_only=True
    )
    print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç: {forced} (—Ç–∏–ø: {type(forced)})")

if __name__ == "__main__":
    test_custom_input()
