# D&D MUD - –ó–∞–≥—Ä—É–∑—á–∏–∫ —Ä–∞—Å

## –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ —Ä–∞—Å–∞—Ö D&D 5e –∏–∑ YAML —Ñ–∞–π–ª–∞ –≤ Python –∫–ª–∞—Å—Å—ã —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## üèóÔ∏è –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### Factory Pattern
- `Race.load_from_yaml()` - —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–µ—Ö —Ä–∞—Å
- `Race.get_race()` - —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–∞—Å—ã
- `Race._create_from_dict()` - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥

### Repository Pattern  
- –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –ª–æ–≥–∏–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ YAML
- –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –¥–∞–Ω–Ω—ã—Ö
- –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º –æ —Ä–∞—Å–∞—Ö

### Data Transfer Object (DTO)
- `Race` - –æ—Å–Ω–æ–≤–Ω–æ–π DTO –¥–ª—è —Ä–∞—Å—ã
- `Subrace` - DTO –¥–ª—è –ø–æ–¥—Ä–∞—Å—ã  
- `Feature` - DTO –¥–ª—è —á–µ—Ä—Ç—ã

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
dnd_mud/
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ races.yaml              # –î–∞–Ω–Ω—ã–µ –æ —Ä–∞—Å–∞—Ö
‚îú‚îÄ‚îÄ src/ui/entities/
‚îÇ   ‚îú‚îÄ‚îÄ character.py            # –ë–æ–≤—ã–π –∫–ª–∞—Å—Å Character
‚îÇ   ‚îî‚îÄ‚îÄ race.py                 # –ö–ª–∞—Å—Å—ã Race, Subrace, Feature
‚îú‚îÄ‚îÄ pyproject.toml              # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ test_race_loader.py         # –¢–µ—Å—Ç—ã –∑–∞–≥—Ä—É–∑—á–∏–∫–∞
‚îî‚îÄ‚îÄ demo_race_integration.py    # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from src.ui.entities.race import Race

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ —Ä–∞—Å—ã
races = Race.load_from_yaml()

# –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ä–∞—Å—É
human = Race.get_race("human")
print(human.name)  # "–ß–µ–ª–æ–≤–µ–∫"
print(human.ability_bonuses)  # {'strength': 1, 'dexterity': 1, ...}
```

### –†–∞–±–æ—Ç–∞ —Å –ø–æ–¥—Ä–∞—Å–∞–º–∏

```python
elf = Race.get_race("elf")

# –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Ä–∞—Å—É
high_elf = elf.get_subrace("high_elf")
print(high_elf.name)  # "–í—ã—Å—à–∏–π —ç–ª—å—Ñ"

# –ü–æ–ª—É—á–∏—Ç—å –æ–±—â–∏–µ –±–æ–Ω—É—Å—ã —Å —É—á–µ—Ç–æ–º –ø–æ–¥—Ä–∞—Å—ã
total_bonuses = elf.get_total_ability_bonuses("high_elf")
print(total_bonuses)  # {'dexterity': 2, 'intelligence': 1}
```

### –†–∞–±–æ—Ç–∞ —Å —á–µ—Ä—Ç–∞–º–∏

```python
human = Race.get_race("human")

# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —á–µ—Ä—Ç—ã —Ä–∞—Å—ã
for feature in human.features:
    print(f"{feature.name}: {feature.description}")
    print(f"–ú–µ—Ö–∞–Ω–∏–∫–∏: {feature.mechanics}")
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source .venv/bin/activate

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
python test_race_loader.py

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é
python demo_race_integration.py
```

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–∞—Å—ã

| ID | –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----|----------|----------|
| `human` | –ß–µ–ª–æ–≤–µ–∫ | –ß–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–æ - —Å–∞–º–∞—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è –∏ –∞–º–±–∏—Ü–∏–æ–∑–Ω–∞—è —Ä–∞—Å–∞ |
| `elf` | –≠–ª—å—Ñ | –≠–ª—å—Ñ—ã - –∏–∑—è—â–Ω—ã–µ –∏ –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏–µ —Å—É—â–µ—Å—Ç–≤–∞ —Å —Ç–æ–Ω–∫–∏–º–∏ —á—É–≤—Å—Ç–≤–∞–º–∏ |
| `half_orc` | –ü–æ–ª—É–æ—Ä–∫ | –ü–æ–ª—É–æ—Ä–∫–∏ - —Å–∏–ª—å–Ω—ã–µ –∏ –≤—ã–Ω–æ—Å–ª–∏–≤—ã–µ –≤–æ–∏–Ω—ã |

### –ü–æ–¥—Ä–∞—Å—ã

- **–ß–µ–ª–æ–≤–µ–∫**: `variant_human` (–ß–µ–ª–æ–≤–µ–∫ (–≤–∞—Ä–∏–∞–Ω—Ç))
- **–≠–ª—å—Ñ**: `high_elf` (–í—ã—Å—à–∏–π —ç–ª—å—Ñ), `wood_elf` (–õ–µ—Å–Ω–æ–π —ç–ª—å—Ñ)
- **–ü–æ–ª—É–æ—Ä–∫**: –Ω–µ—Ç –ø–æ–¥—Ä–∞—Å

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source .venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -e .
```

## üìù YAML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```yaml
races:
  race_id:
    name: "–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—ã"
    description: "–û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞—Å—ã"
    ability_bonuses:
      strength: 2
      dexterity: 1
    ability_bonuses_description: "–°–∏–ª–∞ +2, –õ–æ–≤–∫–æ—Å—Ç—å +1"
    size: "MEDIUM"
    speed: 30
    age:
      min: 16
      max: 100
    languages: ["common", "elvish"]
    features:
      - name: "–ù–∞–∑–≤–∞–Ω–∏–µ —á–µ—Ä—Ç—ã"
        description: "–û–ø–∏—Å–∞–Ω–∏–µ —á–µ—Ä—Ç—ã"
        mechanics:
          type: "ability_bonus"
          target: "strength"
          value: 2
    subraces:
      subrace_id:
        name: "–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥—Ä–∞—Å—ã"
        description: "–û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–¥—Ä–∞—Å—ã"
        ability_bonuses:
          intelligence: 1
        ability_bonuses_description: "–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç +1"
        features: []
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑—á–∏–∫ —Ä–∞—Å –≤ –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
2. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏ —Ä–∞—Å–∞–º–∏
4. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
